{%extends 'content_a/report/display.html'%}


{%block pageContent%}

{{block('userList')}}


{%if requestGET.printmode%}
  {{block('lastTimePrintMode')}}
{%else%}
  {{block('lastTime')}}
{%endif%}

{%endblock%}



{%block lastTimePrintMode%}

<div class="msg info">{%trans "Last time for"%}| {{report_current_user.displayname}}</div>
<table class="tbl">
  <thead class="primary">
    <tr>
      <th>{%trans "Name"%}</th>
      <th>{%trans "Postion"%}</th>
      <th>{%trans "Date"%}</th>
      <th>{%trans "Start"%}</th>
      <th>{%trans "End"%}</th>
      <th>{%trans "Diff"%}</th>

    </tr>
  </thead>
  <tbody>
    {%for key, value in last_time%}
    <tr xclass="f">
      <td xclass="c">{{value.displayname}}</td>
      <td xclass="c s0 m0">{{value.postion}}</td>
      <td xclass="c">{{value.date|jdate("Y-m-d")}}</td>
      <td xclass="c">{{value.start|fitNumber}}</td>
      <td xclass="c">{{value.end|fitNumber}}</td>
{%if time_raw %}
      <td xclass="c s0">{{value.diff | fitNumber}}</td>
{%else%}
      <td xclass="c s0">{{value.diff | humantime | fitNumber}}</td>

{%endif%}

    </tr>
    {%endfor%}

  </tbody>
</table>
{%include display.pagination%}

<div class="f">
  <div class="cauto  pA5">
    <a href="{{export_url|raw}}">
      <i class="sf-list btn"></i> {%trans "Export"%}
    </a>
  </div>

</div>

{%endblock%}





{%block lastTime%}

<table class="tbl">
  <thead class="primary">
    <tr>
      <th>{%trans "Name"%}</th>
      <th>{%trans "Postion"%}</th>
      <th>{%trans "Date"%}</th>
      <th>{%trans "Start"%}</th>
      <th>{%trans "End"%}</th>
      <th>{%trans "Diff"%}</th>
      <th>{%trans "Personal work"%}</th>
      <th>{%trans "Mission"%}</th>
      <th>{%trans "Accepted"%}</th>
      <!-- <th>{%trans "Type"%}</th> -->
      <th>{%trans "Request Edit"%}</th>
    </tr>
  </thead>
  <tbody>
    {%for key, value in last_time%}
    <tr xclass="f">
      <td xclass="c">{{value.displayname}}</td>
      <td xclass="c s0 m0">{{value.postion}}</td>
      <td xclass="c">{{value.date|jdate("Y-m-d")}}</td>
      <td xclass="c">{{value.start|fitNumber}}</td>
      <td xclass="c">{{value.end|fitNumber}}</td>
{%if time_raw %}
      <td xclass="c s0">{{value.diff | fitNumber}}</td>
      <td xclass="c s0">{{value.minus | fitNumber}}</td>
      <td xclass="c s0">{{value.plus | fitNumber}}</td>
      <td xclass="c">{{value.accepted | fitNumber}}</td>
{%else%}
      <td xclass="c s0">{{value.diff | humantime | fitNumber}}</td>
      <td xclass="c s0">{{value.minus | humantime | fitNumber}}</td>
      <td xclass="c s0">{{value.plus | humantime | fitNumber}}</td>
      <td xclass="c">{{value.accepted | humantime | fitNumber}}</td>
{%endif%}
      <!-- <td xclass="c s0">{%set myType = value.type %}{%trans myType%}</td> -->
      <td xclass="c"><a href="{{url.here}}/{{teamCode}}/request/hour/{{value.id}}">{%trans "Request Edit"%}</a></td>
    </tr>
    {%endfor%}

  </tbody>
</table>
{%include display.pagination%}

<div class="f">
  <div class="cauto pA5">
    <a href="{{url.here}}/{{teamCode}}/request/add">
      <i class="sf-plus btn"></i> {%trans "Add request"%}
    </a>
  </div>

  <div class="cauto  pA5">
    <a href="{{export_url|raw}}">
      <i class="sf-list btn"></i> {%trans "Export"%}
    </a>
  </div>

</div>

{%endblock%}
