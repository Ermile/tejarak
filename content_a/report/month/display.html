{%extends 'content_a/report/display.html'%}



{%block pageContent%}

{{block('userList')}}

<form method="get" class="cbox" data-action>
  <label for="year">{%trans "Filter by specefic month of specefic year"%}</label>
  <div class="input">
    <input type="number" name="year" id="year" value='{%if get_year%}{{get_year}}{%else%}{{"now"|jdate("Y", false)}}{%endif%}' placeholder="Year" min="1300" max="3000">
    <input type="number" name="month" id="month" value='{{get_month}}' placeholder="Month" min="1" max="12">
    <button class="addons btn primary">{%trans "Go"%}</button>
  </div>
</form>

{%if month_time%}
  {{block('tableMonthTime')}}
{%else%}
  <div class="msg warn">{%trans "No result for"%}: {{report_current_user.displayname}}</div>
{%endif%}

{%endblock%}


{%block tableMonthTime%}

<div class="cbox fs11">
  <table class="tbl">
    <thead class="primary">
      <th>{%trans "Name"%}</th>
      <th>{%trans "Year"%}</th>
      <th>{%trans "Month"%}</th>
      <th>{%trans "Diff"%}</th>
      <th>{%trans "Personal work"%}</th>
      <th>{%trans "Mission"%}</th>
      <th>{%trans "Accepted"%}</th>
    </thead>
    <tbody>
    {%for key, value in month_time%}
    <tr>
      <td>{{value.displayname}}</td>
      <td>{{value.year|fitNumber}}</td>
      <td>{{value.month|fitNumber}}</td>
      {%if time_raw%}
        <td>{{value.diff | fitNumber}}</td>
        <td>{{value.minus | fitNumber}}</td>
        <td>{{value.plus | fitNumber}}</td>
        <td>{{value.accepted | fitNumber}}</td>
      {%else%}
        <td>{{value.diff | humantime | fitNumber}}</td>
        <td>{{value.minus | humantime | fitNumber}}</td>
        <td>{{value.plus | humantime | fitNumber}}</td>
        <td>{{value.accepted | humantime | fitNumber}}</td>
      {%endif%}
    </tr>
    {%endfor%}
    </tbody>
  </table>
</div>


{%include display.pagination%}

<div>
  <a href="{{export_url|raw}}">
    <i class="sf-list btn"></i>
  </a>
</div>
{%endblock%}